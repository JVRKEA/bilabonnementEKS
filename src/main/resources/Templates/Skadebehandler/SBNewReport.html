<!DOCTYPE html>
<html lang="da" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Opret Skadesrapport</title>
    <link rel="stylesheet" th:href="@{/static/global.css}">
    <link rel="stylesheet" th:href="@{/static/dr.css}">
</head>
<body>

<div th:replace="fragments/header :: header"></div>

<div class="main-container">
    <h1>Opret ny skadesrapport</h1>

    <form th:action="@{/sb/reports}" th:object="${damageReport}" method="post">

 <!-- Vælg bil -->
        <label for="car">Vælg bil:</label>
        <select id="car" name="carId" th:field="*{carId}">
            <option value="" disabled selected>--Vælg bil--</option>
            <option th:each="car : ${cars}"
                    th:value="${car.carId}"
                    th:text="${car.carBrand} + ' ' + ${car.carModel}"
                    th:selected="${damageReport.carId} == ${car.carId}"
                    th:attr="data-customer=${car.customerId}">
            </option>
        </select>

<!-- Skjult felt til customerId -->
        <input type="hidden" id="customerId" name="customerId" th:field="*{customerId}"
               th:value="${damageReport.customerId}" />

<!-- Beskrivelse af skaderne -->
        <label for="textDescription">Beskrivelse:</label>
        <textarea id="textDescription" th:field="*{textDescription}" rows="4"></textarea>

<!-- Pris for skaderne -->
        <label for="damagePrice">Pris:</label>
        <input type="number" id="damagePrice" th:field="*{damagePrice}" />

<!-- Submit knap -->
        <button type="submit" class="btn-green">Gem og opret rapport</button>
        <a th:href="${homeUrl}" class="btn-red" style="margin-left:10px;">Tilbage</a>

    </form>
</div>

<div th:replace="Fragments/footer :: footer"></div>

</body>
</html>